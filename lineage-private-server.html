<html>

<head>

<title>天堂私服架設教學</title>
<meta name="description" content="天堂私服架設教學">

<style>
code, pre{background-color: lightgray;}
</style>

</head>

<body leftmargin="30">

<h1>天堂私服架設教學</h1>
  
<p id="tableOfContents"></p>

<ol>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>安裝Java</h2>

<li>這大部分的電腦應該都已經有安裝了，可以到[控制台＼程式集＼程式和功能]中察看是否有安裝。
<br><img width="70%" src="img/lineage_private_server/lineage_01.jpg">
</li>

<li>沒有安裝的話可以在google搜尋java，連到官方網站，或是由<a href="https://java.com/zh_TW/download/">這裡</a>直接下載安裝。
    <br><br>
    有一些網站教學說要下載JDK(Java SE Development Kit)，這個JDK是包含了開發工具，例如java編譯器，我們不需要這個，我們只需要可以執行java程式的環境就好。
<br><img width="70%" src="img/lineage_private_server/lineage_02.jpg">
</li>

<li>安裝完Jave之後，在命令提示字元下輸入<code>java</code>，如果出現下圖的訊息就表示成功了。
<br><img width="70%" src="img/lineage_private_server/lineage_03.jpg">
    <br><br>
    進入命令提示字元的方法如下。[開始＼所有程式＼附屬應用程式＼命令提示字元]，或是按[視窗鍵+R]，輸入<code>cmd</code>，按下[確定]，視窗鍵就是鍵盤上Ctrl跟Alt中間的那個扭曲的窗戶。
</li>

<li>如果出現<code>'java' 不是內部或外部命令、可執行的程式或批次檔。</code>這個訊息，就表示還要設定路徑。
<br><img width="70%" src="img/lineage_private_server/lineage_04.jpg">
</li>

<li>我解說一下原理，因為我們有一些私服檔案要用java來執行，可是一般來說，命令提示字元的當前目錄都不是在java這個執行檔的資料夾，所以我們要設定一下系統的預設目錄，也就是告訴命令提示字元，以後當我輸入java這個指令時，電腦要去哪裡找java這個執行檔。
    <br><br>
    先去找java安裝在哪裡，通常會在這裡<code>C:\Program Files (x86)\Java\jre7\bin</code>，你可以在這個<code>bin</code>資料夾中看到有一個<code>java.exe</code>的檔案，這時候將這個資料夾的完整路徑複製下來。在上方的網址列“最後面”點一下就會顯示當前資料夾的完整路徑。
    <br><br>
    在[我的電腦]上按右鍵，選擇[內容]，進入[系統]視窗後，選擇[進階系統設定]。
<br><img width="70%" src="img/lineage_private_server/lineage_05.jpg">
</li>

<li>選擇[進階]標籤，按一下[環境變數]按鈕。
<br><img width="70%" src="img/lineage_private_server/lineage_06.jpg">
</li>

<li>在下半部的[系統變數]中選擇變數[Path]，然後按[編輯]。
<br><img width="70%" src="img/lineage_private_server/lineage_07.jpg">
</li>

<li>在[變數值]的最前面加入剛剛複製的路徑，然後用分號 ; 將這個路徑跟後面原本就有的變數值分開，陸續按[確定]離開這些視窗以完成設定。
<br><img width="70%" src="img/lineage_private_server/lineage_08.jpg">
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>下載MySQL</h2>

<li>到官方網站就可以下載。
    <br><br>
    現在已經出到5.7.20，而且叫MySQL Community Server。我當初下載的是5.1.73，安裝介面差異頗大。
    <br><br>
    請下載MSI Installer，不要下載ZIP Archive，因為ZIP Archive下載下來解壓縮的檔案頗複雜。
    <br><br>
    另外也要注意一下作業系統64-bit跟32-bit的差異，並下載相對應的版本。
    <br><br>
    <a href="http://goo.gl/JGXuL3">5.1.73, 64-bit下載</a>。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>下載Navicat</h2>

<li>到<a href="http://www.navicat.com/cht/download/navicat-premium">官方網站</a>就可以下載，只有30天試用期。
    <br><br>
    現在出到Navicat Premium 12了，我當初用的是Navacat Premium 11。
    <br><br>
    <a href="http://goo.gl/OgvFAL">Navicat Premium 11, 64-bit下載</a>
    <br><br>
    網路上有人說可以下載免費的Navicat Lite，可是Navicat Lite也是要註冊，而且使用介面不太一樣，有點麻煩，不建議使用。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>下載太陽神V14（含有db，補丁，登入器）</h2>

<li id="bookmark1">這是最重要的檔案，沒有這個的話也不用架了。<a href="https://1drv.ms/u/s!AkzbfBEGQxmPgySKZzDDto8aU5_Z">點此下載</a><font color="red">（2019/04/01更新連結）</font>。下載完後解壓縮，假設我們把檔案解壓縮到<code>C:\太陽神V14</code>資料夾中。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>下載天堂3.52c主程式（免安裝）</h2>

<li id="bookmark2"><a href="http://goo.gl/fCqJZU">點此下載</a>。
    <br><br>
    其實這裡的免安裝版本就只是筆者在安裝天堂3.52c之後，把安裝天堂的資料夾<code>C:\Program Files (x86)\Gamania\天堂(Lineage 3.52C)\</code>裡面的檔案全部複製出來並壓縮而成。因為筆者發現不用安裝天堂，只要有這些檔案其實就可以玩了。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>安裝MySQL</h2>

<li>新版的MySQL安裝跟設定的介面跟舊版的差異很大，下面是舊版的安裝及設定介面，所以你要會變通。
    <br><br>
    <font color="red">新版的會讓你選擇要安裝哪些東西，而我們只要安裝Server的部分就好。在設定上也要設定成Server Machine。而且新版的MySQL Server在安裝前要先安裝Microsoft Visual C++ 2013 Redistributable Package (x86)，這個在Google上搜尋一下就可以找到並下載安裝。</font>
    <br><br>
    安裝類型選[Typical]就好。接下來的設定都用預設的就好。
<br><img width="70%" src="img/lineage_private_server/lineage_09.jpg">
</li>

<li>進行到如下圖開始設定MySQL，注意要勾選[Configure the MySQL Server now]。
<br><img width="70%" src="img/lineage_private_server/lineage_10.jpg">
</li>

<li>選擇[Standard Configuration]就好。
<br><img width="70%" src="img/lineage_private_server/lineage_11.jpg">
</li>

<li>這裡勾選[Include Bin Directory in Windows PATH]。
<br><img width="70%" src="img/lineage_private_server/lineage_12.jpg">
</li>

<li id="bookmark3">注意到輸入密碼時，輸入root，不要自己隨便設，原因後面會解釋。
<br><img width="70%" src="img/lineage_private_server/lineage_13.jpg">
</li>

<li>最後按下[Execute]。
<br><img width="70%" src="img/lineage_private_server/lineage_14.jpg">
</li>

<li>等待全部打勾即完成。
<br><img width="70%" src="img/lineage_private_server/lineage_15.jpg">
    <br><br>
    [狀況]：如果在最後一個步驟，打勾只打了前兩個[Prepare configuration]跟[Write configuration file]就當掉怎麼辦？
    <br><br>
    [解法]：強制關閉設定精靈後，再重新執行一次安裝程式，進行到下圖的步驟時，選擇[Remove Instance]來刪除之前的設定。接著到安裝MySQL的資料夾中，通常是在<code>C:\Program Files\MySQL\MySQL Server 5.1\bin</code>，去執行一個<code>MySQLInstanceConfig.exe</code>，就能夠再進到設定的介面。
<br><img width="70%" src="img/lineage_private_server/lineage_16.jpg">
    <br><br>
    [狀況]：如果在最後一個步驟，前三個勾勾都完成了，要勾第四個[Apply security settings]時，卻出現下面的錯誤訊息。
    <br><br>
    [解法]：會產生這個錯誤的原因可能是因為有重新安裝過MySQL。到[控制台＼解除安裝程式]刪除MySQL，然後刪除安裝MySQL的兩個資料夾，通常一個會在<code>C:\Program Files\MySQL</code>，另一個會在<code>C:\ProgramData\MySQL</code>。這個<code>ProgramData</code>資料夾是隱藏的，必須直接在網址列輸入路徑，或是先開啟[工具＼資料夾選項＼檢視＼顯示隱藏的檔案、資料夾及磁碟機]。這個解法是從<a href="http://goo.gl/jp8Q54">這裡</a>跟<a href="http://goo.gl/T6X5nw">這裡</a>學來的。
<br><img width="70%" src="img/lineage_private_server/lineage_17.jpg">
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>安裝Navicat</h2>

<li>這就正常安裝就好。
</li>

<li>按下[連線]，選擇[MySQL]。
<br><img width="70%" src="img/lineage_private_server/lineage_18.jpg">
</li>

<li>[連線名稱]可以自己填，我們填入<code>lineage_private_server</code>，
    <br>
    [主機名稱或IP位址]預設是<code>localhost</code>，不要改，
    <br>
    [埠]預設是<code>3306</code>，也不要改，
    <br>
    [使用者名稱]預設是<code>root</code>，不要改，
    <br>
    <font color="red">[密碼]輸入剛剛我們安裝MySQL時<a href="#bookmark3">這步</a>所輸入的密碼<code>root</code>。</font>
    <br>
    輸入完後按下連線測試，出現[連線成功]，按下[確定]，完成新增連線。
<br><img width="70%" src="img/lineage_private_server/lineage_19.jpg">
</li>

<li>接著在剛剛新增的連線[lineage_private_server]上點兩下，會看到該連線前面的海豚圖案變成綠色，並跑出好幾個屬於這個連線的資料庫。在[lineage_private_server]連線上按右鍵，選擇[新增資料庫]。
<br><img width="70%" src="img/lineage_private_server/lineage_20.jpg">
</li>

<li>[資料庫名稱]輸入<code>350c</code>，這不能自己亂取，理由後面會說明，按下[確定]以新增資料庫。
<br><img width="70%" src="img/lineage_private_server/lineage_21.jpg">
</li>

<li>在這個新增的資料庫[350c]上點兩下，讓這個資料庫的圓柱變綠色。
<br><img width="70%" src="img/lineage_private_server/lineage_22.jpg">
</li>

<li>接著在[350c]資料庫上按右鍵，選擇[執行SQL檔案]。
<br><img width="70%" src="img/lineage_private_server/lineage_23.jpg">
</li>

<li>按下瀏覽按鈕。記得我們剛剛把<a href="#bookmark1">這步</a>下載的檔案，解壓縮到<code>C:\太陽神V14</code>資料夾中，所以在這裡就選擇<code>C:\太陽神V14\db\太陽神v14_350C.sql</code>這個檔案。
<br><img width="70%" src="img/lineage_private_server/lineage_24.jpg">
</li>

<li>按下開始讓他跑一下子。完成後按下關閉以離開。
<br><img width="70%" src="img/lineage_private_server/lineage_25.jpg">
</li>

<li>剛剛[350c]資料庫下面有一個[資料表]，在上面按右鍵並選擇[重整]。
<br><img width="70%" src="img/lineage_private_server/lineage_26.jpg">
</li>

<li id="bookmark4">會看到我們剛剛匯入的sql檔案的內容，這些其實就是天堂中的各項設定，例如人物等級，擁有的物品等等，接著就可以把Navicat關掉了。
<br><img width="70%" src="img/lineage_private_server/lineage_27.jpg">
    <br><br>
    [狀況]：在Navicat中，既使刪除某個MySQL連線，再重新新增一個新的MySQL連線時，這個新的連線中的資料庫設定會跟剛剛之前的連線相同，就算重新安裝Navicat也一樣，如果想重置Navicat回到最原始的設定，該如何做呢？
    <br><br>
    [解法]：你必須連MySQL一起重新安裝。（或許你有其他更好的辦法。）
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>解壓縮天堂3.52c主程式</h2>

<li>把<a href="#bookmark2">這步</a>下載的天堂3.52c主程式檔案解壓縮，假設我們放在<code>C:\lineage</code>這個資料夾中
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>補丁，吃檔（這個步驟非必要）</h2>

<li>因為這個私服的原作者，放了一些特殊NPC在遊戲中，從這些NPC身上可以買到一些特殊的裝備及道具。如果不想要有這些NPC的話，可以不要執行這個步驟。（NPC還是會在，但對話會是空白）
    <br><br>
    把<code>C:\太陽神V14\補丁\1-執行</code>及<code>C:\太陽神V14\補丁\2-執行</code>這兩個資料夾中的東西複製到我們放天堂主程式檔案的地方，也就是<code>C:\lineage</code>。
    <br><br>
    注意，是把資料夾“中”的東西複製過去，不是把整個資料夾複製過去，是複製<code>icon</code>、<code>map</code>、<code>sprite</code>、<code>Surf</code>、<code>text</code>這五個資料夾“裡面”的東西過去。還有把<code>C:\太陽神V14\補丁\吃檔程式.exe</code>這個執行檔也複製到我們放天堂主程式檔案的地方，也就是<code>C:\lineage</code>
    <br><br>
    接著執行複製過去的<code>吃檔程式.exe</code>，稍微等一下下，這時候可以看看福別問寫的數學文章。
<br><img width="70%" src="img/lineage_private_server/lineage_28.jpg">
</li>

<li>完成後會顯示吃檔完成的訊息。
<br><img width="70%" src="img/lineage_private_server/lineage_29.jpg">
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>製作登入器</h2>

<li id="bookmark5">執行<code>C:\太陽神V14\登入器 - by aplus\Login_v321編輯</code>這個資料夾中的<code>Encode.exe</code>。
</li>

<li>在[工具]標籤頁中[請選擇天堂版本]選擇[351_S3DS2X]，接著按[變檔編碼]。（此時出現<code>cannot find S3DS2X.txt</code>這個訊息是正常的，按[確定]忽略它即可。）
<br><img width="70%" src="img/lineage_private_server/lineage_30.jpg">
</li>

<li>在[編碼]標籤頁中，
    <br><br>
    IP維持預設的127.0.0.1，這表示你要先自己連到自己的電腦，我們後面會討論朋友要連進來的時候要怎麼修改。
    <br><br>
    版本選擇[351_S3DS2X]，
    <br><br>
    接著將右側的選項中[變身檔]、[內建喝水輔助程式]、[允許多開]三個選項打勾，其中變身檔選擇[S3DS2X.pak]，並按下[編碼]。
    <br><br>
    注意，其他的[封包加密]、[防外掛]、[進階防外掛]、[移動封包不加密]這些不要勾。
<br><img width="70%" src="img/lineage_private_server/lineage_31.jpg">
    <br><br>
    網路上有一些教學說這些選項要全部勾起來，但[封包加密]，[移動封包不加密]這些選項似乎會造成其他人無法順利連進來你的私服，會卡在登入畫面。
</li>

<li>將<code>C:\太陽神V14\登入器 - by aplus\Login_v321編輯</code>資料夾中的下列檔案複製到放置天堂主程式檔案的資料夾<code>C:\lineage</code>當中。
<pre>
LinHelperZ.txt
Login.cfg
Login.exe
Login.ini
S3DS2X.bin
S3DS2X.pak
</pre>
</li>

<li>用記事本打開<code>C:\太陽神V14\登入器 - by aplus\Login_v321編輯</code>這個資料夾中的<code>pack.properties</code>。然後把Autoentication=true中的true改成false。（這個Autoentication應該是拼錯，是Authentication才對。）<font color="red">接著要把編輯過的<code>pack.properties</code>放到<code>C:\太陽神V14\config</code>這個資料夾裡面，感謝網友Kelly Lin分享。</font>
<br><img width="70%" src="img/lineage_private_server/lineage_32.jpg">
    <br><br>
    [狀況]：有一些人架了伺服器，結果別人卡在登入畫面連不進來。或是出現錯誤訊息
<pre>
l1j.server.server.utils.StreamUtil close
嚴重: Connection reset by peer: socket write error
......
客戶端連線結束IP 127.0.0.1
分流連線線程：1 客戶端連線開始IP /127.0.0.1
</pre>
    [解法]：很可能就是之前沒有改成false，或是之前勾選了[封包加密]、[移動封包不加密]的選項。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>啟動伺服器（黑盒子）</h2>

<li>執行<code>C:\太陽神V14</code>資料夾當中的<code>ServerStartC1.bat</code>，讓他跑一下，出現下面畫面即表示成功，這在網路上大家稱為黑盒子。
    <br><br>
    注意到，啟動伺服器的時候其實不用打開Navicat。
<br><img width="70%" src="img/lineage_private_server/lineage_33.jpg">
    <br><br>
    <font color="red">在<a href="#bookmark1">這步</a>解壓縮太陽神的時候，<code>ServerC.exe</code>這個檔案可能會被你家的防毒軟體擋下來並刪掉，這時候執行<code>ServerStartC1.bat</code>的時候，就會出現<code>'ServerC' 不是內部或外部命令、可執行的程式或批次檔。</code>這個訊息，因為<code>ServerStartC1.bat</code>就是要執行<code>ServerC.exe</code>這個執行檔。這時候可以改執行<code>ServerStartD1.bat</code>。</font>
    <br><br>
    [狀況]：一個常見的問題是，執行<code>ServerStartC1.bat</code>時，卡在<code>正在讀取伺服器設定...</code>
    <br><br>
    [解法]：很有可能是Navicat中，連線密碼或是資料庫名稱設定的問題。請先確認連線的密碼為root，資料庫名稱為350c，資料庫名稱不要設定為l1jdb（有另一派教學是習慣設定成l1jdb）。你可以用記事本打開<code>C:\太陽神V14\config</code>中的<code>server.properties</code>，裡面有一段記載著這些資訊。
<pre>
# Database info
Driver=com.mysql.jdbc.Driver
URL=jdbc:mysql://localhost/350c?useUnicode=true&amp;characterEncoding=big5
Login=root
Password=root
</pre>
    注意到localhost就是我們剛剛在Navicat中新增連線的<code>主機名稱或IP位址</code>，350c就是我們新增的資料庫名稱，Login=root及Password=root就是新增連線時設定的使用者名稱及密碼。通常卡在<code>正在讀取伺服器設定...</code>，就是是密碼root或是資料庫名稱350c打錯造成。
    <br><br>
    其實如果要在Navicat中用其他密碼或其他資料庫名稱也可以，只是就要修改這個<code>server.properties</code>檔案，但不建議這麼做，因為不知道有沒有其他檔案也用到這些設定。
    <br><br>
    [狀況]：另一個常見的問題是，執行<code>ServerStartC1.bat</code>時出現下面的訊息：
<pre>
Exception in thread "main" java.lang.NoClassDefFoundError: com/mchange/v2/c3p0/ComboPooledDataSource
at l1j.server.L1DatabaseFactory.&lt;init&gt;(Unknown Source)
at l1j.server.L1DatabaseFactory.getInstance(Unknown Source)
at l1j.server.Server.main(Unknown Source)
Caused by: java.lang.ClassNotFoundException: com.mchange.v2.c3p0.ComboPooledData
</pre>
    或是一直閃爍。
    <br><br>
    [解法]：建立一個如下路徑的資料夾（必須完全相同），<code>C:\Program Files\Java\jdk1.7.0_05\lib</code>，並將<code>C:\太陽神V14\lib</code>這個資料夾中的三個檔案<code>c3p0-0.9.1.1.jar</code>、<code>javolution.jar</code>、<code>mysql-connector-java-5.1.5-bin.jar</code>複製到剛剛建立的那個資料夾中。如果還是不行解決，試試使用jdk-7u5-windows-i586這個版本的Java，並且不要更新或升級。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>開始遊戲</h2>

<li>執行天堂主程式資料夾中的<code>Login.exe</code>，到這裡就可以開始自己一個人玩天堂了。如果想要讓朋友也可以連進來的話，請往後繼續看下去。<font color="red">第一次玩的時候帳號密碼可以自己任意輸入，密碼最少要8位，第二次要玩同一個帳號時就要輸入一樣的帳號密碼。</font>
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>獲得固定IP</h2>

<li>我們架好伺服器後，我們還要有一組固定的IP，別人才找得到我們連進來。
    <br><br>
    通常一般家庭向中華電信申請的網路都是浮動IP，就是重開機後IP就會變動，IP變動後，別人在網路上就找不到你的電腦了，所以我們要想辦法讓別人總是找得到你的伺服器，才可以連上來。
    <br><br>
    如果沒有用分享器的話，可以到下列網站申請一個域名，使用DDNS服務。
    <br>
    選擇一：<a href="http://www.noip.com/">http://www.noip.com/</a>，
    <br>
    選擇二：<a href="http://freedns.afraid.org/">http://freedns.afraid.org/</a>，
    <br>
    選擇三：<a href="http://twbbs.org/">http://twbbs.org/</a>，
    <br>
    簡單來說就是申請一個網址，例如xxx.ddns.net，然後在電腦上安裝一個軟體，這個軟體會隨時查看你的IP，然後把你的IP跟網址xxx.ddns.net連結在一起，別人只要找xxx.ddns.net就可以連到你現在的IP了。
    <br><br>
    如果你家裡有用IP分享器，或是你是用學校宿舍的網路，或是學校的無線網路，或是大樓的網路（就是牆壁上有一個網路孔，插上去就可以上網的那種），就沒辦法用上面的DDNS服務了，因為別人可以透過xxx.ddns.net連進來，但碰到分享器的時候，還是不知道要去哪裡找你的電腦。雖然可以設定IP分享器，但一般來說公用的分享器就不是我們有權限可以去設定的。
    <br><br>
    所以我的解決方法，就是使用LogMeIn Hamachi這套軟體。
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>安裝設定LogMeIn Hamachi（伺服器端）</h2>

<li>LogMeIn Hamachi這套軟體可以建立一個虛擬的區域網路。也就是我可以在伺服器（我自己的電腦）上安裝LogMeIn Hamachi，並建立一個虛擬的區域網路，然後設定區域網路的名稱及密碼，網路上的其他人也安裝這套軟體後，知道該區域網路的名稱及密碼，就可以連進來成為區域網路中的一台電腦。
</li>

<li><a href="http://goo.gl/8KWNjA">LogMeIn Hamachi點此下載</a>，或是到<a href="http://www.softking.com.tw/">http://www.softking.com.tw</a>下載。
</li>

<li>安裝完後開始設定，按下左上角的開機按鈕連線
<br><img width="70%" src="img/lineage_private_server/lineage_34.jpg">
</li>

<li>選擇[建立新網路]，或是從功能選單中的[網路＼建立新網路]。
<br><img width="70%" src="img/lineage_private_server/lineage_35.jpg">
</li>

<li>自訂一個[客戶名稱]，這個客戶名稱就是在這個區域網路內，大家看到你的名字，
<br><img width="70%" src="img/lineage_private_server/lineage_36.jpg">
</li>

<li>接著輸入[網路 ID]，還有要進入這個區域網路的[密碼]，並且把這個ID及密碼告訴你的朋友。
<br><img width="70%" src="img/lineage_private_server/lineage_37.jpg">
</li>

<li>在這裡成功建立區域網路了。注意到左上角開機鈕旁邊的IP就是你電腦的IP，在這裡的例子是25.134.228.68把它記下來。
<br><img width="70%" src="img/lineage_private_server/lineage_38.jpg">
</li>

<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>準備要給玩家的東西</h2>

<li>現在來準備朋友要連到你的天堂遊戲伺服器所需要的東西。為了讓朋友能用最快的速度進入遊戲，所以我們幫他把登入器做好。跟剛剛上面<a href="#bookmark5">這步</a>製作登入器的方法相同，唯一的不同點就是IP位址要改成我們剛剛在LogMeIn Hamachi中記下的IP，例如伺服器的IP是25.134.229.68。
</li>

<li>接著把
<pre>
LinHelperZ.txt
Login.cfg
Login.exe
Login.ini
S3DS2X.bin
S3DS2X.pak
</pre>
    <br><br>
    這五個檔案，加到剛剛下載的免安裝版天堂主程式的壓縮檔中的<code>lineage</code>資料夾當中，下圖只是示範加入的方法，不是實際資料夾。（注意，是放在<code>lineage</code>資料夾當中，不是跟<code>lineage</code>資料夾放一起）
<br><img width="70%" src="img/lineage_private_server/lineage_39.jpg">
</li>

<li id="bookmark6">你可以把這個新的<code>lineage.zip</code>壓縮檔（含有<code>Login.exe</code>），放到Google drive或是Dropbox上供朋友下載。
    <br><br>
    如果你是從頭一直看下來的，也就是你剛剛已經架過伺服器，也已經從自己的電腦連進來，創了一個角色，玩了一下天堂，那這時候你的天堂主程式資料夾中就會多了一些檔案，尤其是有幾個以你的角色ID為檔案名稱的檔案，這時侯就不建議你把設定為新的外連IP的Login.cfg及Login.exe，覆蓋掉原本IP設定為127.0.0.1的Login.cfg跟Login.exe，然後再把整個資料夾重新壓縮。
</li>


<!---------------------------------->
<!---------------------------------->
<!---------------------------------->
<h2>安裝設定LogMeIn Hamachi（客戶端）</h2>

<li>現在來討論朋友如果要連到你的天堂遊戲伺服器，他要設定哪些東西。先<a href="http://goo.gl/8KWNjA">下載LogMeIn Hamachi</a>，或是到<a href="http://www.softking.com.tw/">http://www.softking.com.tw</a>下載。安裝完之後開始設定，加入伺服器所在的區域網路，選擇[加入現有的網路]或是從功能選單中的[網路＼加入已存在的網路]。
<br><img width="70%" src="img/lineage_private_server/lineage_40.jpg">
</li>

<li>接著輸入伺服器所在的區域網路的[網路 ID]及[密碼]。
<br><img width="70%" src="img/lineage_private_server/lineage_41.jpg">
</li>

<li>成功加入區域網路，可以看到下面有連到剛剛伺服器的IP 25.134.229.68。
<br><img width="70%" src="img/lineage_private_server/lineage_42.jpg">
</li>

<h2>登入伺服器</h2>

<li>再來就是下載伺服器的主人提供給客戶端的<code>lineage.zip</code>（含<code>Login.exe</code>），也就是<a href="#bookmark6">這步</a>中增加了登入器的天堂主程式壓縮檔。下載之後解壓縮，執行<code>Login.exe</code>就可以開始遊戲了。
<br><img width="70%" src="img/lineage_private_server/lineage_43.jpg">
<br><img width="70%" src="img/lineage_private_server/lineage_44.jpg">
<br><img width="70%" src="img/lineage_private_server/lineage_45.jpg">
</li>

<li>如果要修改遊戲中的一些數值，包括經驗值倍率、掉寶率、衝過武防率、人物一出生所擁有的物品、修改NPC位置等，就是到<a href="#bookmark4">這步</a>中修改。
</li>

</ol>


<script>

var allTitles = document.querySelectorAll("H2, H3");
var numberOfTitles = allTitles.length;
var toc = "";

for(t=0, c=0, s=0; t < numberOfTitles; t++)
{ 
  if(allTitles[t].nodeName == "H2")
  { 
    c++;
    allTitles[t].setAttribute("id", "chapter" + c);
    s=0;
    toc += "<a href=#chapter" + c + ">";
    toc += "Part " + c + ". " + allTitles[t].innerHTML;
    toc += "</a>";
    toc += "<br>";
  }
  
  if(allTitles[t].nodeName == "H3")
  {
    s++;
    allTitles[t].setAttribute("id", "section" + c + "." + s);
    toc += "&nbsp;&nbsp;&nbsp;&nbsp;<a href=#section" + c + "." + s + ">";
    toc += c + "." + s + ". " + allTitles[t].innerHTML;
    toc += "</a>";
    toc += "<br>";
  }
}

document.getElementById("tableOfContents").innerHTML = toc;

</script>


</body>


</html>
